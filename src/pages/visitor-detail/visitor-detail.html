<!--
  Generated template for the VisitorDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Visitor Detail</ion-title>
  </ion-navbar>

</ion-header>


<ion-content no-bounce>

  <div class="div-avatar">
    <div class="div-img" text-center>
      <div *ngIf="visitor.user.profile.avatarUrl">
        <img [src]="visitor.user.profile.avatarUrl">
      </div>
      <div *ngIf="!visitor.user.profile.avatarUrl">
        <img src="./assets/imgs/defaultAvatar.png">
      </div>
    </div>
    <div class="div-name" text-center>
      <!-- <span>Kenneth Ross Palermo</span> -->
      <div *ngIf="visitor.name">
        {{visitor.name}}
      </div>
      <div *ngIf="!visitor.name">
        {{visitor.firstName}} {{visitor.lastName}}
      </div>

    </div>
    <div class="div-job-title" text-center>
      <div *ngIf="visitor.user.profile.jobTitle">
        {{visitor.user.profile.jobTitle}}
      </div>
      <div *ngIf="!visitor.user.profile.jobTitle">
        -
      </div>
    </div>
    <div class="div-title-company" text-center>
        <span> - </span>
    </div>
  </div>

  <!-- <div style="border-bottom: 1px solid gray; margin-left: 5px; margin-right: 5px;"></div> -->

  <div class="div-details">

    <div class="div-detail-email">
      <span class="label-detail">Email</span> <br>
      <span *ngIf="visitor.email" class="info-detail" style="text-decoration: underline;">{{visitor.email}}</span>
      <span *ngIf="!visitor.email" class="info-detail"> - </span>
    </div>

    <div class="div-detail-phone">
      <span class="label-detail">Phone</span> <br>
      <span *ngIf="visitor.user.profile.mobile" class="info-detail" style="text-decoration: underline;">{{visitor.user.profile.mobile}}</span>
      <span *ngIf="!visitor.user.profile.mobile" class="info-detail"> - </span>
    </div>

    <div class="div-detail-facebook">
      <span class="label-detail">Facebook</span> <br>
      <span *ngIf="visitor.user.profile.facebook" class="info-detail">{{visitor.user.profile.facebook}}</span>
      <span *ngIf="!visitor.user.profile.facebook" class="info-detail"> - </span>
    </div>

    <div class="div-detail-location">
      <span class="label-detail">Location</span> <br>
      <span *ngIf="visitor.user.profile.city || visitor.user.profile.country" class="info-detail">
        {{visitor.user.profile.city}}, {{visitor.user.profile.country}}
      </span>
      <span *ngIf="!visitor.user.profile.city && !visitor.user.profile.country" class="info-detail">
          -
        </span>
    </div>

    <div class="div-detail-checked">
      <div class="div-detail-checked-in">
          <ion-row>
            <ion-col col-5>
              <span class="label-detail">
                Last Checked In
              </span>
            </ion-col>
            <ion-col>
              <span class="check-in-date">
                <div *ngIf="visitor.lastCheckedIn">
                  {{visitor.lastCheckedIn | date : 'yyyy/MM/dd'}} {{visitor.lastCheckedInTime}}
                </div>
                <div *ngIf="!visitor.lastCheckedIn">
                  -
                </div>
              </span>
            </ion-col>
          </ion-row>
        </div>
    
        <div class="div-detail-checked-out">
          <ion-row>
            <ion-col col-5>
              <span class="label-detail">
                Last Checked Out
              </span>
            </ion-col>
            <ion-col>
              <span class="check-out-date">
                <div *ngIf="visitor.lastCheckedOut">
                  {{visitor.lastCheckedOut | date : 'yyyy/MM/dd'}} {{visitor.lastCheckedOutTime}}
                </div>
                <div *ngIf="!visitor.lastCheckedOut">
                  -
                </div>
              </span>
            </ion-col>
          </ion-row>
        </div>
    </div>

  </div>

  <div class="div-button">
    <ion-row>
      <ion-col>
        <!-- show button check in -->
        <button [hidden]="!checkIn" class="button-check-in" ion-button  (click)="checkTapped()" type="submit" full>Check In</button>
        <!-- show button check out -->
        <button [hidden]="checkIn" class="button-check-out" ion-button (click)="checkTapped()" type="submit" full>Check Out</button>
      </ion-col>
      <ion-col>
          <button class="button-print-label" ion-button  color="light" (click)="cancelTapped()" type="submit" full>Print Label</button>
      </ion-col>
    </ion-row>
  </div>

</ion-content>
